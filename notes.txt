[07.06.2021]

При загрузке страницы события, элементы ставок (button.__app-Odd-button) заменяются через какое-то время после появления
Поэтому чтобы дождаться возможность открытия ставки, нужно ждать появления, ичезания и повторного появления кнопки
Или же ждать чего-то другого, что выполняется точно позже всего этого (появления количества ставок в купоне)

Как оказалось, контейнер купона (.__app-Betslip-container .__app-Body-container) появляется раньше, чем обновляются элементы ставок
Так что ждать его, не достаточно

При загрузке страницы изначально всегда откывается вкладка купона "Промо"
Далее, если до этого были ставки в купоне:
- Через какое-то время переключается на вкладку "Купон Пари" (.__app-Tabs-tab:nth-child(1))
- Изначально нет ни заголовка с количеством пари, ни самих пари
- Появляется заголовок с количетсвом пари (причём возможно сначала там указано 0, и только через какое-то время меняется)
- Потом появляется контейнер купона
- Потом появляются сами ставки в купоне

Пока работает вариант
- Дождаться появления любой ставки
- Дождаться исчезания этой ставки
- Дождаться повторного появления любой ставки
- Перейти на вкладку "Купон Пари"
- Дождаться появления контейнера купона

Так как ожидается "перепоявление ставки" в preOpenBet, пока сделаю безусловный переход на страницу события в openEvent
Иначе ставка не "перепоявится"
TODO: переделать ожидание достаточной загрузки. Например, добавить какой-то флаг о перезагрузке страницы

Получение максимальной суммы
- Очистить поле ввода суммы ставки (чтобы getCurrentSum() возвращал 0)
- Сфокусироваться (чере fireEvent 'focus') на поле ввода суммы ставки ('.__app-BetslipFooter-container .__app-DropDown-input')
- Дождаться кнопки максимальной ставки ([class*="DropDown__bet-max___"])
- Кликнуть на кнопку максимальной ставки (через fireEvent 'mousedown')
- Дождаться изменения значения в поле ввода суммы ставки (пока getCurrentSum() вернёт не 0)
- Очистить поле ввода суммы ставки

[08.06.2021]

По поводу получения максимальной суммы
Если просто дождаться кнопки максимальной ставки и нажать, сумма не появится в поле ввода
Нужно дождаться полной загрузки кнопок максимальных ставок
Сейчас способ такой
- Дождаться первой кнопки максимальной ставки (.__app-DropDown-stake-list > [data-stake])
- В самом начале в ней суммы по-умолчанию, не связанные с конкретной ставкой (в первой кнопке обычно 100)
- Запомнить эту сумму
- Дождаться пока эта сумма поменяется
- Это будет означать, что кнопки прогрузились и можно нажимать на кнопку максимальной ставки

При обработке ставки, если появилась ошибка (.__app-Error-container) не простого способа её сбросить
Пока что просто переоткрываю купон

[10.06.2021]
Порой в первой кнопке максимальной ставки сразу реальный макс, а не стандартные 100
Наверно стоит явно ждать, когда макс первой кнопки не будет равен 100, а не запоминать первое значение
